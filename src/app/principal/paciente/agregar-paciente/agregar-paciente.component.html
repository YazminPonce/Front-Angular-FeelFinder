<div class="container d-flex flex-column align-items-center vh-100 mt-3">
  <div class="text-center w-100">
    <h1 style="color: #6a0dad; width: 100%; text-align: center;">Agregar Paciente</h1>

    <div class="mt-5">
      <button class="btn btn-primary btn-lg btn-block mb-3" style="width: 80%;" (click)="showCodeInput = !showCodeInput; showForm = false">
        Por Código
      </button>

      <button class="btn btn-secondary btn-lg btn-block" style="width: 80%;" (click)="showForm = !showForm; showCodeInput = false">
        Registrar
      </button>
    </div>

    <div *ngIf="showCodeInput" class="mt-4">
      <form  [formGroup]="linkForm" (ngSubmit)="linkPaciente()">
      <input type="text" class="form-control mb-3" placeholder="Ingrese el código"  matInput formControlName="pacienteId" >
      <button type="submit" class="btn btn-success">Agregar</button>
      </form>
    </div>

    <div *ngIf="showForm" class="mt-4">
      <form  [formGroup]="registerForm" (ngSubmit)="register()">
        <div class="mb-3">
          <label for="nombre" class="form-label">Nombre</label>
          <input type="text" class="form-control" id="nombre"  matInput placeholder="nombre" formControlName="nombre" >
        </div>
        <div class="mb-3">
          <label class="form-label" for="ApellidoMaterno">Primer apellido</label>
                  <input type="text" id="ApellidoMaterno"  matInput placeholder="ApellidoMaterno" formControlName="apellidoMaterno"  class="form-control" />
        </div>
        <div class="mb-3">
            <label class="form-label" for="ApellidoPaterno">Segundo apellido</label>
            <input type="text"  id="ApellidoPaterno"  matInput placeholder="ApellidoPaterno" formControlName="apellidoPaterno"  class="form-control" />
        </div>
        <div class="mb-3">
          <label class="form-label" for="email">Correo Electrónico</label>
              <input type="email" matInput placeholder="Email" formControlName="email"  class="form-control" />
        </div>

        <div class="mb-3">
          <label class="form-label" for="password">Contraseña</label>
          <input
            type="password"
            matInput
            placeholder="password"
            formControlName="password"
            class="form-control"
          />
          <div *ngIf="registerForm.controls['password'].invalid && registerForm.controls['password'].touched">
            <small class="text-danger">La contraseña es requerida y debe tener al menos 8 caracteres</small>
          </div>
        </div>

        <div class="mb-3">
          <label class="form-label" for="confirmPassword">Confirmar Contraseña</label>
          <input
            type="password"
            matInput
            placeholder="confirm password"
            formControlName="confirmPassword"
            class="form-control "
          />
          <div *ngIf="registerForm.controls['confirmPassword'].invalid && registerForm.controls['confirmPassword'].touched">
            <small class="text-danger">Las contraseñas no coinciden</small>
          </div>
        </div>

        <div class="mb-3">
          <label class="form-label" for="telefono">Teléfono</label>
          <input
            type="text"
            matInput
            placeholder="telefono"
            formControlName="telefono"
            class="form-control "
            pattern="^\d{10}$"
          />
          <div *ngIf="registerForm.controls['telefono'].invalid && registerForm.controls['telefono'].touched">
            <small class="text-danger">El teléfono debe ser un número de 10 dígitos</small>
          </div>
        </div>

        <div class="mb-3">
          <label class="form-label" for="dob">Fecha de nacimiento</label>
          <input type="date" matInput
          formControlName="fechaNacimiento"
          class="form-control " />
        </div>

        <div class="d-md-flex justify-content-start align-items-center mb-4 py-2">
          <div class="mb-0 me-4" style="color: #6a1b9a;">Genero: </div>
          <div class="form-check form-check-inline mb-0 me-4">
            <input class="form-check-input"
            formControlName="sexo" type="radio" name="sexo" id="femaleGender" value="female" />
            <label class="form-check-label" for="femaleGender">Femenino</label>
          </div>
          <div class="form-check form-check-inline mb-0 me-4">
            <input class="form-check-input"
            formControlName="sexo" type="radio" name="sexo" id="maleGender" value="male" />
            <label class="form-check-label" for="maleGender">Masculino</label>
          </div>
          <div class="form-check form-check-inline mb-0">
            <input class="form-check-input"
            formControlName="sexo" type="radio" name="sexo" id="otherGender" value="other" />
            <label class="form-check-label" for="otherGender">Otro</label>
          </div>
        </div>

        <div class="d-md-flex justify-content-start align-items-center mb-4 py-2">
          <div class="mb-0 me-4" style="color: #6a1b9a;">Estado Civil: </div>
          <div class="form-check form-check-inline mb-0 me-4">
            <input class="form-check-input"
            formControlName="estadoCivil"  type="radio" name="estadoCivil" id="solteroEC" value="female" />
            <label class="form-check-label" for="solteroEC">Soltero</label>
          </div>
          <div class="form-check form-check-inline mb-0 me-4">
            <input class="form-check-input"
            formControlName="estadoCivil"  type="radio" name="estadoCivil" id="casadoEC" value="male" />
            <label class="form-check-label" for="casadoEC">Casado</label>
          </div>
          <div class="form-check form-check-inline mb-0">
            <input class="form-check-input"
            formControlName="estadoCivil"  type="radio" name="estadoCivil" id="separadoEC" value="other" />
            <label class="form-check-label" for="separadoEC">Separado</label>
          </div>
        </div>
        <div class="mb-3">
          <label class="form-label" for="address">Direccion</label>
          <input type="text" id="address" class="form-control " formControlName="direccion" />
        </div>

        <div class="mb-3">
          <label class="form-label" for="ocupacion">Ocupación</label>
          <input type="text" id="ocupacion" matInput
          formControlName="ocupacion"   class="form-control " />
        </div>
        <div class="mb3-3">
          <label class="form-label" for="notasAdicionales">Notas Adicionales </label>
          <input type="text" matInput
          formControlName="notasAdicionales"    id="notasAdicionales" class="form-control" />
        </div>



        <button type="submit" class="btn btn-primary">Enviar</button>
      </form>
    </div>
  </div>
</div>
